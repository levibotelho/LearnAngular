Spoon Standalone Connector
-----------------------------------------------------------------------------------------

IMPORTANT: This connector requires you to have generated page snapshots in an Azure blob
storage container using Spoon Standalone. Spoon Standalone is available for download at
https://github.com/LeviBotelho/spoon-standalone.

-----------------------------------------------------------------------------------------

To integrate Spoon Standalone connector, rewrite your main Action method as follows.

public async Task<ActionResult> Index(string _escaped_fragment_)
{
    if (_escaped_fragment_ == null)
        return View();

    // NOTE: Failure to respond correctly to _escaped_fragment_ requests could result in your entire site
    // not being indexed. You should at the very least log all errors before handling them appropriately.
    try
    {
        // TODO: Fill in your Azure storage account and storage container names.
        return await SnapshotManager.GetSnapshotAsync(_escaped_fragment_, "", "");
    }
    catch (ArgumentNullException)
    {
        // The _escaped_fragment_ is null. You must verify that it is not null before calling GetSnapshotAsync.
        throw;
    }
    catch (ArgumentException)
    {
        // The Azure storage account name or storage container name is null or whitespace.
        throw;
    }
    catch (HttpRequestException)
    {
        // The _escaped_fragment_ does not correspond to a snapshot generated by Spoon Standalone.
        throw;
    }
    catch
    {
        // If you end up here please create an issue at https://github.com/LeviBotelho/spoon-standalone/issues.
        throw;
    }
}

-----------------------------------------------------------------------------------------

Problems? Don't like what you see?

I wrote this project out of personal necessity but would be happy to adapt it for use by
a wider audience if the need arises. Please feel free to make feature requests or bug
reports in the issue tracker (https://github.com/LeviBotelho/spoon-standalone/issues).